<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Expense Tracker</title>
  <style>
    body { font-family: Arial; background: #eee; display: flex; justify-content: center; align-items: center; height: 100vh; }
    .container { background: white; padding: 20px; border-radius: 10px; box-shadow: 0 0 10px #ccc; }
    input, select, button { display: block; margin: 10px 0; padding: 10px; width: 250px; }
    button { background: green; color: white; border: none; cursor: pointer; }
  </style>
</head>
<body>

<div class="container">
  <h2>Add Expense</h2>

  <input type="text" id="item" placeholder="Expense Item" />
  <input type="number" id="amount" placeholder="Amount" />
  <select id="category">
    <option value="">Select Category</option>
    <option value="Home">Home</option>
    <option value="Personal">Personal</option>
    <option value="Work">Work</option>
  </select>
  <button onclick="submitExpense()">Submit</button>
</div>

<script>
  async function submitExpense() {
    const item = document.getElementById('item').value.trim();
    const amount = document.getElementById('amount').value.trim();
    const category = document.getElementById('category').value;

    if (!item || !amount || !category) {
      alert("Please fill all fields.");
      return;
    }

    const formData = new URLSearchParams();
    formData.append('item', item);
    formData.append('amount', amount);
    formData.append('category', category);
    formData.append('key', 'MY_SUPER_SECRET_KEY_12345');

    try {
      const response = await fetch('https://script.google.com/macros/s/AKfycbzsmDplODMOP0e6rSRuEWfbCZd33YDFiRLmBEu0NVatv2XLzBLpb147kL820FfEkBuo/exec', {
        method: 'POST',
        headers: {
          'Content-Type': 'application/x-www-form-urlencoded'
        },
        body: formData.toString()
      });

      const text = await response.text();
      console.log(text);
      alert("Expense Submitted!");

      document.getElementById('item').value = '';
      document.getElementById('amount').value = '';
      document.getElementById('category').value = '';
    } catch (error) {
      console.error(error);
      alert("Error submitting expense.");
    }
  }
</script>

</body>
</html>
